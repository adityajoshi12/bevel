Starting build process...
Adding env variables...
Validatin network yaml
/home/bevel/build/network.yaml valid
Running the playbook...
ansible-playbook [core 2.12.6]
  config file = None
  configured module search path = ['/root/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.8/dist-packages/ansible
  ansible collection location = /root/.ansible/collections:/usr/share/ansible/collections
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.8.10 (default, Mar 15 2022, 12:22:08) [GCC 9.4.0]
  jinja version = 3.1.2
  libyaml = True
No config file found; using defaults
redirecting (type: modules) ansible.builtin.npm to community.general.npm
Skipping callback 'default', as we already have a stdout callback.
Skipping callback 'minimal', as we already have a stdout callback.
Skipping callback 'oneline', as we already have a stdout callback.

PLAYBOOK: site.yaml ************************************************************
7 plays in /home/bevel/platforms/shared/configuration/site.yaml

PLAY [all] *********************************************************************
META: ran handlers
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************

TASK [Gathering Facts] *********************************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:12
ok: [localhost]
META: ran handlers

TASK [install ajv-cli] *********************************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:16
redirecting (type: modules) ansible.builtin.npm to community.general.npm
ok: [localhost] => {"changed": false}

TASK [set_fact] ****************************************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:22
ok: [localhost] => {"ansible_facts": {"tempNetworkyaml": {"network": {"channels": [{"channel": null, "channel_name": "AllChannel", "consortium": "SupplyChainConsortium", "endorsers": [{"name": "carrier", "organization": null, "peers": [{"certificate": "/home/bevel/build/carrier/peer0.crt", "corepeerAddress": "peer0.carrier-net:7051", "name": "peer0", "peer": null}]}, {"name": "manufacturer", "organization": null, "peers": [{"certificate": "/home/bevel/build/manufacturer/peer0.crt", "corepeerAddress": "peer0.manufacturer-net:7051", "name": "peer0", "peer": null}]}], "genesis": {"name": "OrdererGenesis"}, "orderer": {"name": "supplychain"}, "participants": [{"name": "carrier", "ordererAddress": "orderer1.supplychain-net:7050", "org_status": "new", "organization": null, "peers": [{"gossipAddress": "peer0.carrier-net:7051", "name": "peer0", "peer": null, "peerAddress": "peer0.carrier-net:7051"}], "type": "creator"}, {"name": "manufacturer", "ordererAddress": "orderer1.supplychain-net:7050", "org_status": "new", "organization": null, "peers": [{"gossipAddress": "peer0.manufacturer-net:7051", "name": "peer0", "peer": null, "peerAddress": "peer0.manufacturer-net:7051"}], "type": "joiner"}]}], "docker": {"password": "Farcry@2014", "url": "index.docker.io/hyperledgerlabs", "username": "adityajoshi12"}, "env": {"annotations": {"deployment": {}, "pvc": {}, "service": {}}, "external_dns": "disabled", "proxy": "none", "retry_count": 50, "type": "dev"}, "orderers": [{"certificate": "/home/bevel/build/orderer1.crt", "name": "orderer1", "orderer": null, "org_name": "supplychain", "type": "orderer", "uri": "orderer1.supplychain-net:7050"}], "organizations": [{"ca_data": {"certificate": "/home/bevel/build/supplychain/server.crt", "url": "ca.supplychain-net:7054"}, "cloud_provider": "azure", "country": "UK", "external_url_suffix": "develop.local.com", "fabric_console": "enabled", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "supplychain", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net", "type": "ca"}, "consensus": {"name": "raft"}, "orderers": [{"consensus": "raft", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, {"ca_data": {"certificate": "/home/bevel/build/manufacturer/server.crt", "url": "ca.manufacturer-net:7054"}, "cloud_provider": "azure", "country": "CH", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "Zurich", "name": "manufacturer", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/manufacturer/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain1", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "enabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.manufacturer-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.manufacturer-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "Zurich", "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, {"ca_data": {"certificate": "/home/bevel/build/carrier/server.crt", "url": "ca.carrier-net:7054"}, "cloud_provider": "azure", "country": "GB", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "carrier", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/carrier/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.carrier-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.carrier-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "London", "subject": "O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}], "type": "fabric", "version": "2.2.2"}}}, "changed": false}

TASK [Ensures build dir exists] ************************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:24
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info

TASK [check/setup : check if dir exists or not] ********************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"exists": false}}

TASK [check/setup : Ensures dir exists] ****************************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:17
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "./build", "size": 4096, "state": "directory", "uid": 0}

TASK [check/setup : Check if Kubernetes-auth already created for Organization] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:26
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/setup : Check if policy exists] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:36
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/setup : Check docker cred exists] **********************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:47
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/setup : Check git https cred exists] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:58
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/setup : check if certs exists in vault.] ***************************
task path: /home/bevel/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:69
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
META: role_complete for localhost

TASK [create tempNetwork yaml file] ********************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:30
changed: [localhost] => {"changed": true, "checksum": "e4d9abf92a4b9e545a5b9141476b57ecee97cc56", "dest": "./build/temp.yaml", "gid": 0, "group": "root", "md5sum": "c40f4efbfe0877b35011fe3eed6a4366", "mode": "0644", "owner": "root", "size": 9448, "src": "/root/.ansible/tmp/ansible-tmp-1658074347.4729013-28888-102894041527894/source", "state": "file", "uid": 0}

TASK [run schema validator on network.yaml] ************************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:35
changed: [localhost] => {"changed": true, "cmd": "ajv validate -s ../../network-schema.json -d ./build/temp.yaml\n", "delta": "0:00:01.429344", "end": "2022-07-17 16:12:30.374699", "msg": "", "rc": 0, "start": "2022-07-17 16:12:28.945355", "stderr": "", "stderr_lines": [], "stdout": "./build/temp.yaml valid", "stdout_lines": ["./build/temp.yaml valid"]}

TASK [Remove the build directory and contents] *********************************
task path: /home/bevel/platforms/shared/configuration/network-schema-validator.yaml:38
changed: [localhost] => {"changed": true, "path": "./build", "state": "absent"}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************

TASK [Gathering Facts] *********************************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:13
ok: [localhost]
META: ran handlers

TASK [include_role : setup/kubectl] ********************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:17

TASK [setup/kubectl : register temporary directory] ****************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:8
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.04ecccy4", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/kubectl : check kubectl] *******************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "stat": {"atime": 1658067664.3912246, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 83960, "charset": "unknown", "checksum": "371d59fce375bd7d74256c136280eeef732d7611", "ctime": 1658067663.979227, "dev": 2097204, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 13166487, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1613566452.0, "nlink": 1, "path": "/root/bin/kubectl", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 42987520, "uid": 0, "version": "4162813991", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/kubectl : Download kubectl binary] *********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Unarchive kubernetes-client] *****************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:31
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : create bin directory] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:39
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Copy kubectl binary to destination directory] ************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:47
skipping: [localhost] => (item=kubectl)  => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Test kubectl installation] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:61
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.077033", "end": "2022-07-17 16:12:33.348864", "msg": "", "rc": 0, "start": "2022-07-17 16:12:33.271831", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.19.8", "stdout_lines": ["Client Version: v1.19.8"]}

TASK [setup/kubectl : Changing the current context namespace to default] *******
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:67
changed: [localhost] => {"changed": true, "cmd": "KUBECONFIG=/home/bevel/build/config kubectl config use-context bevel\nKUBECONFIG=/home/bevel/build/config kubectl config set-context --current --namespace=default\n", "delta": "0:00:00.203486", "end": "2022-07-17 16:12:33.985524", "msg": "", "rc": 0, "start": "2022-07-17 16:12:33.782038", "stderr": "", "stderr_lines": [], "stdout": "Switched to context \"bevel\".\nContext \"bevel\" modified.", "stdout_lines": ["Switched to context \"bevel\".", "Context \"bevel\" modified."]}
META: role_complete for localhost

TASK [setup/kubectl : register temporary directory] ****************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:8
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.1rkjuy0t", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/kubectl : check kubectl] *******************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "stat": {"atime": 1658067664.3912246, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 83960, "charset": "unknown", "checksum": "371d59fce375bd7d74256c136280eeef732d7611", "ctime": 1658067663.979227, "dev": 2097204, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 13166487, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1613566452.0, "nlink": 1, "path": "/root/bin/kubectl", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 42987520, "uid": 0, "version": "4162813991", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/kubectl : Download kubectl binary] *********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Unarchive kubernetes-client] *****************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:31
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : create bin directory] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:39
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Copy kubectl binary to destination directory] ************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:47
skipping: [localhost] => (item=kubectl)  => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Test kubectl installation] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:61
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.086691", "end": "2022-07-17 16:12:35.724101", "msg": "", "rc": 0, "start": "2022-07-17 16:12:35.637410", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.19.8", "stdout_lines": ["Client Version: v1.19.8"]}

TASK [setup/kubectl : Changing the current context namespace to default] *******
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:67
changed: [localhost] => {"changed": true, "cmd": "KUBECONFIG=/home/bevel/build/config kubectl config use-context bevel\nKUBECONFIG=/home/bevel/build/config kubectl config set-context --current --namespace=default\n", "delta": "0:00:00.173769", "end": "2022-07-17 16:12:36.250734", "msg": "", "rc": 0, "start": "2022-07-17 16:12:36.076965", "stderr": "", "stderr_lines": [], "stdout": "Switched to context \"bevel\".\nContext \"bevel\" modified.", "stdout_lines": ["Switched to context \"bevel\".", "Context \"bevel\" modified."]}
META: role_complete for localhost

TASK [setup/kubectl : register temporary directory] ****************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:8
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.ov5t8_ma", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/kubectl : check kubectl] *******************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "stat": {"atime": 1658067664.3912246, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 83960, "charset": "unknown", "checksum": "371d59fce375bd7d74256c136280eeef732d7611", "ctime": 1658067663.979227, "dev": 2097204, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 13166487, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1613566452.0, "nlink": 1, "path": "/root/bin/kubectl", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 42987520, "uid": 0, "version": "4162813991", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/kubectl : Download kubectl binary] *********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Unarchive kubernetes-client] *****************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:31
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : create bin directory] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:39
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Copy kubectl binary to destination directory] ************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:47
skipping: [localhost] => (item=kubectl)  => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Test kubectl installation] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:61
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.090986", "end": "2022-07-17 16:12:37.852525", "msg": "", "rc": 0, "start": "2022-07-17 16:12:37.761539", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.19.8", "stdout_lines": ["Client Version: v1.19.8"]}

TASK [setup/kubectl : Changing the current context namespace to default] *******
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:67
changed: [localhost] => {"changed": true, "cmd": "KUBECONFIG=/home/bevel/build/config kubectl config use-context bevel\nKUBECONFIG=/home/bevel/build/config kubectl config set-context --current --namespace=default\n", "delta": "0:00:00.193983", "end": "2022-07-17 16:12:38.433229", "msg": "", "rc": 0, "start": "2022-07-17 16:12:38.239246", "stderr": "", "stderr_lines": [], "stdout": "Switched to context \"bevel\".\nContext \"bevel\" modified.", "stdout_lines": ["Switched to context \"bevel\".", "Context \"bevel\" modified."]}
META: role_complete for localhost

TASK [include_role : setup/helm] ***********************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:25

TASK [setup/helm : register temporary directory] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:8
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.o1hnfwhv", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/helm : check helm] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "stat": {"atime": 1658067676.4471529, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 88104, "charset": "unknown", "checksum": "4ef98189af928450906546c6afd8719399a4c181", "ctime": 1658067676.1111548, "dev": 2097204, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 13166480, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1658067675.6591575, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 45109248, "uid": 0, "version": "2805724032", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/helm : Install helm] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Unzip helm archive] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:33
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:43
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Move helm binaries] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:53
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Test helm installation] *************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:64
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.057239", "end": "2022-07-17 16:12:40.183694", "msg": "", "rc": 0, "start": "2022-07-17 16:12:40.126455", "stderr": "", "stderr_lines": [], "stdout": "v3.6.2+gee407bd", "stdout_lines": ["v3.6.2+gee407bd"]}
META: role_complete for localhost

TASK [setup/helm : register temporary directory] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:8
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.3pwg89zp", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/helm : check helm] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "stat": {"atime": 1658067676.4471529, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 88104, "charset": "unknown", "checksum": "4ef98189af928450906546c6afd8719399a4c181", "ctime": 1658067676.1111548, "dev": 2097204, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 13166480, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1658067675.6591575, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 45109248, "uid": 0, "version": "2805724032", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/helm : Install helm] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Unzip helm archive] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:33
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:43
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Move helm binaries] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:53
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Test helm installation] *************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:64
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.073647", "end": "2022-07-17 16:12:41.974720", "msg": "", "rc": 0, "start": "2022-07-17 16:12:41.901073", "stderr": "", "stderr_lines": [], "stdout": "v3.6.2+gee407bd", "stdout_lines": ["v3.6.2+gee407bd"]}
META: role_complete for localhost

TASK [setup/helm : register temporary directory] *******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:8
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.xt_82nsi", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/helm : check helm] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "stat": {"atime": 1658067676.4471529, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 88104, "charset": "unknown", "checksum": "4ef98189af928450906546c6afd8719399a4c181", "ctime": 1658067676.1111548, "dev": 2097204, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 13166480, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1658067675.6591575, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 45109248, "uid": 0, "version": "2805724032", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/helm : Install helm] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Unzip helm archive] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:33
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:43
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Move helm binaries] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:53
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Test helm installation] *************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:64
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.074150", "end": "2022-07-17 16:12:43.677089", "msg": "", "rc": 0, "start": "2022-07-17 16:12:43.602939", "stderr": "", "stderr_lines": [], "stdout": "v3.6.2+gee407bd", "stdout_lines": ["v3.6.2+gee407bd"]}
META: role_complete for localhost

TASK [include_role : setup/vault] **********************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:33

TASK [setup/vault : register temporary directory] ******************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:8
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.5r098f3m", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/vault : check vault] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "stat": {"atime": 1658067685.3151007, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 384416, "charset": "unknown", "checksum": "1a97c27b87ff109441f4631eaec50751e2864802", "ctime": 1658067684.9511027, "dev": 2097204, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 13166506, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1618938805.0, "nlink": 1, "path": "/root/bin/vault", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 196820366, "uid": 0, "version": "2709503024", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/vault : Install vault client] **************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault : create bin directory] **************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:32
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault : Unzip vault archive] ***************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:40
skipping: [localhost] => (item=vault)  => {"ansible_loop_var": "bin_item", "bin_item": "vault", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault : Test vault installation] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:52
ok: [localhost] => {"changed": false, "cmd": ["vault", "version"], "delta": "0:00:00.117601", "end": "2022-07-17 16:12:45.912337", "msg": "", "rc": 0, "start": "2022-07-17 16:12:45.794736", "stderr": "", "stderr_lines": [], "stdout": "Vault v1.7.1 (917142287996a005cb1ed9d96d00d06a0590e44e)", "stdout_lines": ["Vault v1.7.1 (917142287996a005cb1ed9d96d00d06a0590e44e)"]}
META: role_complete for localhost

TASK [include_role : setup/aws-cli] ********************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:41
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'O=Orderer,L=51.50/-0.13/London,C=GB', 'type': 'orderer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'fabric_console': 'enabled', 'ca_data': {'url': 'ca.supplychain-net:7054', 'certificate': '/home/bevel/build/supplychain/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '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', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'ca': {'name': 'ca', 'subject': '/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'consensus': {'name': 'raft'}, 'orderers': [{'orderer': None, 'name': 'orderer1', 'type': 'orderer', 'consensus': 'raft', 'grpc': {'port': 7050}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/supplychain/server.crt", "url": "ca.supplychain-net:7054"}, "cloud_provider": "azure", "country": "UK", "external_url_suffix": "develop.local.com", "fabric_console": "enabled", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "supplychain", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net", "type": "ca"}, "consensus": {"name": "raft"}, "orderers": [{"consensus": "raft", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'peer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'ca_data': {'url': 'ca.manufacturer-net:7054', 'certificate': '/home/bevel/build/manufacturer/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'users': [{'user': None, 'identity': 'user1', 'attributes': [{'key': 'hf.Revoker', 'value': 'true'}]}], 'services': {'ca': {'name': 'ca', 'subject': '/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'peers': [{'peer': None, 'name': 'peer0', 'type': 'anchor', 'gossippeeraddress': 'peer0.manufacturer-net:7051', 'peerAddress': 'peer0.manufacturer-net:7051', 'certificate': '/home/bevel/build/manufacturer/peer0.crt', 'cli': 'enabled', 'grpc': {'port': 7051}, 'events': {'port': 7053}, 'couchdb': {'port': 5984}, 'restserver': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}, 'chaincode': {'name': 'supplychain1', 'version': '1', 'maindirectory': 'cmd', 'lang': 'golang', 'repository': {'username': 'adityajoshi12', 'password': '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', 'url': 'github.com/adityajoshi12/bevel.git', 'branch': 'main', 'path': 'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, 'arguments': '\\"init\\",\\"\\"', 'endorsements': ''}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/manufacturer/server.crt", "url": "ca.manufacturer-net:7054"}, "cloud_provider": "azure", "country": "CH", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "Zurich", "name": "manufacturer", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/manufacturer/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain1", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "enabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.manufacturer-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.manufacturer-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "Zurich", "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={'organization': None, 'name': 'carrier', 'country': 'GB', 'state': 'London', 'location': 'London', 'subject': 'O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB', 'type': 'peer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'ca_data': {'url': 'ca.carrier-net:7054', 'certificate': '/home/bevel/build/carrier/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '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', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'users': [{'user': None, 'identity': 'user1', 'attributes': [{'key': 'hf.Revoker', 'value': 'true'}]}], 'services': {'ca': {'name': 'ca', 'subject': '/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'peers': [{'peer': None, 'name': 'peer0', 'type': 'anchor', 'gossippeeraddress': 'peer0.carrier-net:7051', 'peerAddress': 'peer0.carrier-net:7051', 'certificate': '/home/bevel/build/carrier/peer0.crt', 'cli': 'disabled', 'grpc': {'port': 7051}, 'events': {'port': 7053}, 'couchdb': {'port': 5984}, 'restserver': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}, 'chaincode': {'name': 'supplychain', 'version': '1', 'maindirectory': 'cmd', 'lang': 'golang', 'repository': {'username': 'adityajoshi12', 'password': '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', 'url': 'github.com/adityajoshi12/bevel.git', 'branch': 'main', 'path': 'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, 'arguments': '\\"init\\",\\"\\"', 'endorsements': ''}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/carrier/server.crt", "url": "ca.carrier-net:7054"}, "cloud_provider": "azure", "country": "GB", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "carrier", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/carrier/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.carrier-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.carrier-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "London", "subject": "O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}

TASK [include_role : setup/aws-auth] *******************************************
task path: /home/bevel/platforms/shared/configuration/environment-setup.yaml:48
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'O=Orderer,L=51.50/-0.13/London,C=GB', 'type': 'orderer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'fabric_console': 'enabled', 'ca_data': {'url': 'ca.supplychain-net:7054', 'certificate': '/home/bevel/build/supplychain/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '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', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'ca': {'name': 'ca', 'subject': '/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'consensus': {'name': 'raft'}, 'orderers': [{'orderer': None, 'name': 'orderer1', 'type': 'orderer', 'consensus': 'raft', 'grpc': {'port': 7050}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/supplychain/server.crt", "url": "ca.supplychain-net:7054"}, "cloud_provider": "azure", "country": "UK", "external_url_suffix": "develop.local.com", "fabric_console": "enabled", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "supplychain", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net", "type": "ca"}, "consensus": {"name": "raft"}, "orderers": [{"consensus": "raft", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'peer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'ca_data': {'url': 'ca.manufacturer-net:7054', 'certificate': '/home/bevel/build/manufacturer/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'users': [{'user': None, 'identity': 'user1', 'attributes': [{'key': 'hf.Revoker', 'value': 'true'}]}], 'services': {'ca': {'name': 'ca', 'subject': '/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'peers': [{'peer': None, 'name': 'peer0', 'type': 'anchor', 'gossippeeraddress': 'peer0.manufacturer-net:7051', 'peerAddress': 'peer0.manufacturer-net:7051', 'certificate': '/home/bevel/build/manufacturer/peer0.crt', 'cli': 'enabled', 'grpc': {'port': 7051}, 'events': {'port': 7053}, 'couchdb': {'port': 5984}, 'restserver': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}, 'chaincode': {'name': 'supplychain1', 'version': '1', 'maindirectory': 'cmd', 'lang': 'golang', 'repository': {'username': 'adityajoshi12', 'password': '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', 'url': 'github.com/adityajoshi12/bevel.git', 'branch': 'main', 'path': 'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, 'arguments': '\\"init\\",\\"\\"', 'endorsements': ''}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/manufacturer/server.crt", "url": "ca.manufacturer-net:7054"}, "cloud_provider": "azure", "country": "CH", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "Zurich", "name": "manufacturer", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/manufacturer/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain1", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "enabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.manufacturer-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.manufacturer-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "Zurich", "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={'organization': None, 'name': 'carrier', 'country': 'GB', 'state': 'London', 'location': 'London', 'subject': 'O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB', 'type': 'peer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'ca_data': {'url': 'ca.carrier-net:7054', 'certificate': '/home/bevel/build/carrier/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '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', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'users': [{'user': None, 'identity': 'user1', 'attributes': [{'key': 'hf.Revoker', 'value': 'true'}]}], 'services': {'ca': {'name': 'ca', 'subject': '/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'peers': [{'peer': None, 'name': 'peer0', 'type': 'anchor', 'gossippeeraddress': 'peer0.carrier-net:7051', 'peerAddress': 'peer0.carrier-net:7051', 'certificate': '/home/bevel/build/carrier/peer0.crt', 'cli': 'disabled', 'grpc': {'port': 7051}, 'events': {'port': 7053}, 'couchdb': {'port': 5984}, 'restserver': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}, 'chaincode': {'name': 'supplychain', 'version': '1', 'maindirectory': 'cmd', 'lang': 'golang', 'repository': {'username': 'adityajoshi12', 'password': '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', 'url': 'github.com/adityajoshi12/bevel.git', 'branch': 'main', 'path': 'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, 'arguments': '\\"init\\",\\"\\"', 'endorsements': ''}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/carrier/server.crt", "url": "ca.carrier-net:7054"}, "cloud_provider": "azure", "country": "GB", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "carrier", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/carrier/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.carrier-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.carrier-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "London", "subject": "O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************
META: ran handlers

TASK [include_role : setup/flux] ***********************************************
task path: /home/bevel/platforms/shared/configuration/kubernetes-env-setup.yaml:18
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info

TASK [aws-cli : register temporary directory] **********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:8
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : check aws cli] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:15
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : download aws cli] **********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : extract aws cli] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:31
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:40
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : install aws cli] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:50
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : configuring aws] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:58
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
META: 

TASK [aws-auth : register temporary directory] *********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:8
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : check aws-authenticator] **************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:15
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : create bin directory] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : Install aws-authenticator] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : Test Kubernetes connection] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:41
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
META: 

TASK [helm : register temporary directory] *************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:8
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.bsand5dt", "size": 4096, "state": "directory", "uid": 0}

TASK [helm : check helm] *******************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "stat": {"atime": 1658067676.4471529, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 88104, "charset": "unknown", "checksum": "4ef98189af928450906546c6afd8719399a4c181", "ctime": 1658067676.1111548, "dev": 2097204, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 13166480, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1658067675.6591575, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 45109248, "uid": 0, "version": "2805724032", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [helm : Install helm] *****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [helm : Unzip helm archive] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:33
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:43
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [helm : Move helm binaries] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:53
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [helm : Test helm installation] *******************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:64
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.080147", "end": "2022-07-17 16:12:49.224251", "msg": "", "rc": 0, "start": "2022-07-17 16:12:49.144104", "stderr": "", "stderr_lines": [], "stdout": "v3.6.2+gee407bd", "stdout_lines": ["v3.6.2+gee407bd"]}
META: role_complete for localhost

TASK [kubectl : register temporary directory] **********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:8
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.2vmtrpge", "size": 4096, "state": "directory", "uid": 0}

TASK [kubectl : check kubectl] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:15
ok: [localhost] => {"changed": false, "stat": {"atime": 1658067664.3912246, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 83960, "charset": "unknown", "checksum": "371d59fce375bd7d74256c136280eeef732d7611", "ctime": 1658067663.979227, "dev": 2097204, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 13166487, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "unknown", "mode": "0755", "mtime": 1613566452.0, "nlink": 1, "path": "/root/bin/kubectl", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 42987520, "uid": 0, "version": "4162813991", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [kubectl : Download kubectl binary] ***************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : Unarchive kubernetes-client] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:31
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : create bin directory] ******************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:39
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : Copy kubectl binary to destination directory] ******************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:47
skipping: [localhost] => (item=kubectl)  => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : Test kubectl installation] *************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:61
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.083225", "end": "2022-07-17 16:12:50.796031", "msg": "", "rc": 0, "start": "2022-07-17 16:12:50.712806", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.19.8", "stdout_lines": ["Client Version: v1.19.8"]}

TASK [kubectl : Changing the current context namespace to default] *************
task path: /home/bevel/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:67
changed: [localhost] => {"changed": true, "cmd": "KUBECONFIG=/home/bevel/build/config kubectl config use-context bevel\nKUBECONFIG=/home/bevel/build/config kubectl config set-context --current --namespace=default\n", "delta": "0:00:00.205151", "end": "2022-07-17 16:12:51.369140", "msg": "", "rc": 0, "start": "2022-07-17 16:12:51.163989", "stderr": "", "stderr_lines": [], "stdout": "Switched to context \"bevel\".\nContext \"bevel\" modified.", "stdout_lines": ["Switched to context \"bevel\".", "Context \"bevel\" modified."]}
META: role_complete for localhost

TASK [setup/flux : Checking if the namespace flux-dev already exists] **********
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:8
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
ok: [localhost] => {"api_found": true, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Namespace", "metadata": {"creationTimestamp": "2022-07-17T14:50:54Z", "labels": {"kubernetes.io/metadata.name": "flux-dev"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:kubernetes.io/metadata.name": {}}}}, "manager": "kubectl-create", "operation": "Update", "time": "2022-07-17T14:50:54Z"}], "name": "flux-dev", "resourceVersion": "67194", "uid": "5725059c-89f5-4260-a7ab-a9f6cfcc204f"}, "spec": {"finalizers": ["kubernetes"]}, "status": {"phase": "Active"}}]}

TASK [setup/flux : Create namespaces  flux-dev] ********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:17
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Check if Flux is running] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:22
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
ok: [localhost] => {"api_found": true, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"annotations": {"checksum/ssh": "923f37a7070e98516fe4033a387c27a3e1ac2b5ca08ca4b1275fcb72afce3b63"}, "creationTimestamp": "2022-07-17T14:51:02Z", "generateName": "flux-dev-759b8574cb-", "labels": {"app": "flux", "pod-template-hash": "759b8574cb", "release": "flux-dev"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:checksum/ssh": {}}, "f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:pod-template-hash": {}, "f:release": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"d22956c0-08b2-4b3b-bfe8-f23e7e7ac182\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:containers": {"k:{\"name\":\"flux\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"KUBECONFIG\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":3030,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {".": {}, "f:requests": {".": {}, "f:cpu": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/etc/fluxd/ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/root/.kubectl\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/root/.ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/var/fluxd/keygen\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:nodeSelector": {".": {}, "f:beta.kubernetes.io/os": {}}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"git-key\"}": {".": {}, "f:name": {}, "f:secret": {".": {}, "f:defaultMode": {}, "f:secretName": {}}}, "k:{\"name\":\"git-keygen\"}": {".": {}, "f:emptyDir": {".": {}, "f:medium": {}}, "f:name": {}}, "k:{\"name\":\"kubedir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"sshdir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-07-17T14:51:02Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.244.0.22\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-07-17T14:51:42Z"}], "name": "flux-dev-759b8574cb-ltrjq", "namespace": "flux-dev", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "flux-dev-759b8574cb", "uid": "d22956c0-08b2-4b3b-bfe8-f23e7e7ac182"}], "resourceVersion": "67452", "uid": "dfd6d796-f17f-4ce5-9642-36c7e92e61d2"}, "spec": {"containers": [{"args": ["--log-format=fmt", "--ssh-keygen-dir=/var/fluxd/keygen", "--ssh-keygen-format=RFC4716", "--k8s-secret-name=git-auth-dev", "--memcached-hostname=flux-dev-memcached", "--sync-state=git", "--memcached-service=", "--git-url=ssh://git@github.com/adityajoshi12/bevel.git", "--git-branch=test", "--git-path=platforms/hyperledger-fabric/releases/dev", "--git-readonly=false", "--git-user=Weave Flux", "--git-email=support@weave.works", "--git-verify-signatures=false", "--git-set-author=false", "--git-poll-interval=2m", "--git-timeout=200s", "--sync-interval=2m", "--git-ci-skip=false", "--git-label=sync-dev", "--automation-interval=5m", "--registry-rps=200", "--registry-burst=125", "--registry-trace=false", "--registry-insecure-host=index.docker.io/hyperledgerlabs"], "env": [{"name": "KUBECONFIG", "value": "/root/.kubectl/config"}], "image": "docker.io/fluxcd/flux:1.23.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 30, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 120}, "name": "flux", "ports": [{"containerPort": 3030, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 30, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 120}, "resources": {"requests": {"cpu": "50m", "memory": "64Mi"}}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/root/.kubectl", "name": "kubedir"}, {"mountPath": "/root/.ssh", "name": "sshdir", "readOnly": true}, {"mountPath": "/etc/fluxd/ssh", "name": "git-key", "readOnly": true}, {"mountPath": "/var/fluxd/keygen", "name": "git-keygen"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-b2jhz", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "aks-agentpool-84293659-vmss000001", "nodeSelector": {"beta.kubernetes.io/os": "linux"}, "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "flux-dev", "serviceAccountName": "flux-dev", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoSchedule", "key": "node.kubernetes.io/memory-pressure", "operator": "Exists"}], "volumes": [{"configMap": {"defaultMode": 420, "name": "flux-dev-kube-config"}, "name": "kubedir"}, {"configMap": {"defaultMode": 384, "name": "flux-dev-ssh-config"}, "name": "sshdir"}, {"name": "git-key", "secret": {"defaultMode": 256, "secretName": "git-auth-dev"}}, {"emptyDir": {"medium": "Memory"}, "name": "git-keygen"}, {"name": "kube-api-access-b2jhz", "projected": {"defaultMode": 420, "sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"items": [{"key": "ca.crt", "path": "ca.crt"}], "name": "kube-root-ca.crt"}}, {"downwardAPI": {"items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}, "path": "namespace"}]}}]}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:02Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:42Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:42Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:02Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "containerd://222f98676bbcc7e1675282ad0c5a0b0a36a9443f4b7462c675d96ff50243000a", "image": "docker.io/fluxcd/flux:1.23.0", "imageID": "docker.io/fluxcd/flux@sha256:8e52359b851b15bfc78f6020b61af7d2314b069822181348cb3410cd24f0a4ee", "lastState": {}, "name": "flux", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2022-07-17T14:51:03Z"}}}], "hostIP": "10.224.0.5", "phase": "Running", "podIP": "10.244.0.22", "podIPs": [{"ip": "10.244.0.22"}], "qosClass": "Burstable", "startTime": "2022-07-17T14:51:02Z"}}]}

TASK [setup/flux : Get ssh known hosts] ****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:36
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Helm repo add] **********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:44
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Install flux for over https connection] *********************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:52
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Install flux for over ssh connection] ***********************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:63
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [wait for pods to come up] ************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:75
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
META: role_complete for localhost

TASK [aws-cli : register temporary directory] **********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:8
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : check aws cli] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:15
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : download aws cli] **********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : extract aws cli] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:31
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:40
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : install aws cli] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:50
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : configuring aws] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:58
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
META: 

TASK [aws-auth : register temporary directory] *********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:8
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : check aws-authenticator] **************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:15
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : create bin directory] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : Install aws-authenticator] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : Test Kubernetes connection] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:41
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
META: 

TASK [setup/flux : Checking if the namespace flux-dev already exists] **********
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:8
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
ok: [localhost] => {"api_found": true, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Namespace", "metadata": {"creationTimestamp": "2022-07-17T14:50:54Z", "labels": {"kubernetes.io/metadata.name": "flux-dev"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:kubernetes.io/metadata.name": {}}}}, "manager": "kubectl-create", "operation": "Update", "time": "2022-07-17T14:50:54Z"}], "name": "flux-dev", "resourceVersion": "67194", "uid": "5725059c-89f5-4260-a7ab-a9f6cfcc204f"}, "spec": {"finalizers": ["kubernetes"]}, "status": {"phase": "Active"}}]}

TASK [setup/flux : Create namespaces  flux-dev] ********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:17
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Check if Flux is running] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:22
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
ok: [localhost] => {"api_found": true, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"annotations": {"checksum/ssh": "923f37a7070e98516fe4033a387c27a3e1ac2b5ca08ca4b1275fcb72afce3b63"}, "creationTimestamp": "2022-07-17T14:51:02Z", "generateName": "flux-dev-759b8574cb-", "labels": {"app": "flux", "pod-template-hash": "759b8574cb", "release": "flux-dev"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:checksum/ssh": {}}, "f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:pod-template-hash": {}, "f:release": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"d22956c0-08b2-4b3b-bfe8-f23e7e7ac182\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:containers": {"k:{\"name\":\"flux\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"KUBECONFIG\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":3030,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {".": {}, "f:requests": {".": {}, "f:cpu": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/etc/fluxd/ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/root/.kubectl\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/root/.ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/var/fluxd/keygen\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:nodeSelector": {".": {}, "f:beta.kubernetes.io/os": {}}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"git-key\"}": {".": {}, "f:name": {}, "f:secret": {".": {}, "f:defaultMode": {}, "f:secretName": {}}}, "k:{\"name\":\"git-keygen\"}": {".": {}, "f:emptyDir": {".": {}, "f:medium": {}}, "f:name": {}}, "k:{\"name\":\"kubedir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"sshdir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-07-17T14:51:02Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.244.0.22\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-07-17T14:51:42Z"}], "name": "flux-dev-759b8574cb-ltrjq", "namespace": "flux-dev", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "flux-dev-759b8574cb", "uid": "d22956c0-08b2-4b3b-bfe8-f23e7e7ac182"}], "resourceVersion": "67452", "uid": "dfd6d796-f17f-4ce5-9642-36c7e92e61d2"}, "spec": {"containers": [{"args": ["--log-format=fmt", "--ssh-keygen-dir=/var/fluxd/keygen", "--ssh-keygen-format=RFC4716", "--k8s-secret-name=git-auth-dev", "--memcached-hostname=flux-dev-memcached", "--sync-state=git", "--memcached-service=", "--git-url=ssh://git@github.com/adityajoshi12/bevel.git", "--git-branch=test", "--git-path=platforms/hyperledger-fabric/releases/dev", "--git-readonly=false", "--git-user=Weave Flux", "--git-email=support@weave.works", "--git-verify-signatures=false", "--git-set-author=false", "--git-poll-interval=2m", "--git-timeout=200s", "--sync-interval=2m", "--git-ci-skip=false", "--git-label=sync-dev", "--automation-interval=5m", "--registry-rps=200", "--registry-burst=125", "--registry-trace=false", "--registry-insecure-host=index.docker.io/hyperledgerlabs"], "env": [{"name": "KUBECONFIG", "value": "/root/.kubectl/config"}], "image": "docker.io/fluxcd/flux:1.23.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 30, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 120}, "name": "flux", "ports": [{"containerPort": 3030, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 30, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 120}, "resources": {"requests": {"cpu": "50m", "memory": "64Mi"}}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/root/.kubectl", "name": "kubedir"}, {"mountPath": "/root/.ssh", "name": "sshdir", "readOnly": true}, {"mountPath": "/etc/fluxd/ssh", "name": "git-key", "readOnly": true}, {"mountPath": "/var/fluxd/keygen", "name": "git-keygen"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-b2jhz", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "aks-agentpool-84293659-vmss000001", "nodeSelector": {"beta.kubernetes.io/os": "linux"}, "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "flux-dev", "serviceAccountName": "flux-dev", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoSchedule", "key": "node.kubernetes.io/memory-pressure", "operator": "Exists"}], "volumes": [{"configMap": {"defaultMode": 420, "name": "flux-dev-kube-config"}, "name": "kubedir"}, {"configMap": {"defaultMode": 384, "name": "flux-dev-ssh-config"}, "name": "sshdir"}, {"name": "git-key", "secret": {"defaultMode": 256, "secretName": "git-auth-dev"}}, {"emptyDir": {"medium": "Memory"}, "name": "git-keygen"}, {"name": "kube-api-access-b2jhz", "projected": {"defaultMode": 420, "sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"items": [{"key": "ca.crt", "path": "ca.crt"}], "name": "kube-root-ca.crt"}}, {"downwardAPI": {"items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}, "path": "namespace"}]}}]}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:02Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:42Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:42Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:02Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "containerd://222f98676bbcc7e1675282ad0c5a0b0a36a9443f4b7462c675d96ff50243000a", "image": "docker.io/fluxcd/flux:1.23.0", "imageID": "docker.io/fluxcd/flux@sha256:8e52359b851b15bfc78f6020b61af7d2314b069822181348cb3410cd24f0a4ee", "lastState": {}, "name": "flux", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2022-07-17T14:51:03Z"}}}], "hostIP": "10.224.0.5", "phase": "Running", "podIP": "10.244.0.22", "podIPs": [{"ip": "10.244.0.22"}], "qosClass": "Burstable", "startTime": "2022-07-17T14:51:02Z"}}]}

TASK [setup/flux : Get ssh known hosts] ****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:36
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Helm repo add] **********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:44
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Install flux for over https connection] *********************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:52
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Install flux for over ssh connection] ***********************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:63
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [wait for pods to come up] ************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:75
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
META: role_complete for localhost

TASK [aws-cli : register temporary directory] **********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:8
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : check aws cli] *************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:15
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : download aws cli] **********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : extract aws cli] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:31
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:40
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : install aws cli] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:50
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : configuring aws] ***********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:58
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
META: 

TASK [aws-auth : register temporary directory] *********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:8
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : check aws-authenticator] **************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:15
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : create bin directory] *****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : Install aws-authenticator] ************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : Test Kubernetes connection] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:41
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
META: 

TASK [setup/flux : Checking if the namespace flux-dev already exists] **********
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:8
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
ok: [localhost] => {"api_found": true, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Namespace", "metadata": {"creationTimestamp": "2022-07-17T14:50:54Z", "labels": {"kubernetes.io/metadata.name": "flux-dev"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:kubernetes.io/metadata.name": {}}}}, "manager": "kubectl-create", "operation": "Update", "time": "2022-07-17T14:50:54Z"}], "name": "flux-dev", "resourceVersion": "67194", "uid": "5725059c-89f5-4260-a7ab-a9f6cfcc204f"}, "spec": {"finalizers": ["kubernetes"]}, "status": {"phase": "Active"}}]}

TASK [setup/flux : Create namespaces  flux-dev] ********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:17
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Check if Flux is running] ***********************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:22
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
ok: [localhost] => {"api_found": true, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"annotations": {"checksum/ssh": "923f37a7070e98516fe4033a387c27a3e1ac2b5ca08ca4b1275fcb72afce3b63"}, "creationTimestamp": "2022-07-17T14:51:02Z", "generateName": "flux-dev-759b8574cb-", "labels": {"app": "flux", "pod-template-hash": "759b8574cb", "release": "flux-dev"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:checksum/ssh": {}}, "f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:pod-template-hash": {}, "f:release": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"d22956c0-08b2-4b3b-bfe8-f23e7e7ac182\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:containers": {"k:{\"name\":\"flux\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"KUBECONFIG\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":3030,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {".": {}, "f:requests": {".": {}, "f:cpu": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/etc/fluxd/ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/root/.kubectl\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/root/.ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/var/fluxd/keygen\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:nodeSelector": {".": {}, "f:beta.kubernetes.io/os": {}}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"git-key\"}": {".": {}, "f:name": {}, "f:secret": {".": {}, "f:defaultMode": {}, "f:secretName": {}}}, "k:{\"name\":\"git-keygen\"}": {".": {}, "f:emptyDir": {".": {}, "f:medium": {}}, "f:name": {}}, "k:{\"name\":\"kubedir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}, "k:{\"name\":\"sshdir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2022-07-17T14:51:02Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.244.0.22\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2022-07-17T14:51:42Z"}], "name": "flux-dev-759b8574cb-ltrjq", "namespace": "flux-dev", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "flux-dev-759b8574cb", "uid": "d22956c0-08b2-4b3b-bfe8-f23e7e7ac182"}], "resourceVersion": "67452", "uid": "dfd6d796-f17f-4ce5-9642-36c7e92e61d2"}, "spec": {"containers": [{"args": ["--log-format=fmt", "--ssh-keygen-dir=/var/fluxd/keygen", "--ssh-keygen-format=RFC4716", "--k8s-secret-name=git-auth-dev", "--memcached-hostname=flux-dev-memcached", "--sync-state=git", "--memcached-service=", "--git-url=ssh://git@github.com/adityajoshi12/bevel.git", "--git-branch=test", "--git-path=platforms/hyperledger-fabric/releases/dev", "--git-readonly=false", "--git-user=Weave Flux", "--git-email=support@weave.works", "--git-verify-signatures=false", "--git-set-author=false", "--git-poll-interval=2m", "--git-timeout=200s", "--sync-interval=2m", "--git-ci-skip=false", "--git-label=sync-dev", "--automation-interval=5m", "--registry-rps=200", "--registry-burst=125", "--registry-trace=false", "--registry-insecure-host=index.docker.io/hyperledgerlabs"], "env": [{"name": "KUBECONFIG", "value": "/root/.kubectl/config"}], "image": "docker.io/fluxcd/flux:1.23.0", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 30, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 120}, "name": "flux", "ports": [{"containerPort": 3030, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 30, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 120}, "resources": {"requests": {"cpu": "50m", "memory": "64Mi"}}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/root/.kubectl", "name": "kubedir"}, {"mountPath": "/root/.ssh", "name": "sshdir", "readOnly": true}, {"mountPath": "/etc/fluxd/ssh", "name": "git-key", "readOnly": true}, {"mountPath": "/var/fluxd/keygen", "name": "git-keygen"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-b2jhz", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "aks-agentpool-84293659-vmss000001", "nodeSelector": {"beta.kubernetes.io/os": "linux"}, "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "flux-dev", "serviceAccountName": "flux-dev", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoSchedule", "key": "node.kubernetes.io/memory-pressure", "operator": "Exists"}], "volumes": [{"configMap": {"defaultMode": 420, "name": "flux-dev-kube-config"}, "name": "kubedir"}, {"configMap": {"defaultMode": 384, "name": "flux-dev-ssh-config"}, "name": "sshdir"}, {"name": "git-key", "secret": {"defaultMode": 256, "secretName": "git-auth-dev"}}, {"emptyDir": {"medium": "Memory"}, "name": "git-keygen"}, {"name": "kube-api-access-b2jhz", "projected": {"defaultMode": 420, "sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"items": [{"key": "ca.crt", "path": "ca.crt"}], "name": "kube-root-ca.crt"}}, {"downwardAPI": {"items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}, "path": "namespace"}]}}]}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:02Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:42Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:42Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2022-07-17T14:51:02Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "containerd://222f98676bbcc7e1675282ad0c5a0b0a36a9443f4b7462c675d96ff50243000a", "image": "docker.io/fluxcd/flux:1.23.0", "imageID": "docker.io/fluxcd/flux@sha256:8e52359b851b15bfc78f6020b61af7d2314b069822181348cb3410cd24f0a4ee", "lastState": {}, "name": "flux", "ready": true, "restartCount": 0, "started": true, "state": {"running": {"startedAt": "2022-07-17T14:51:03Z"}}}], "hostIP": "10.224.0.5", "phase": "Running", "podIP": "10.244.0.22", "podIPs": [{"ip": "10.244.0.22"}], "qosClass": "Burstable", "startTime": "2022-07-17T14:51:02Z"}}]}

TASK [setup/flux : Get ssh known hosts] ****************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:36
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Helm repo add] **********************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:44
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Install flux for over https connection] *********************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:52
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Install flux for over ssh connection] ***********************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:63
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [wait for pods to come up] ************************************************
task path: /home/bevel/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:75
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
META: role_complete for localhost

TASK [Prepare nodes and clients ports for ambassador] **************************
task path: /home/bevel/platforms/shared/configuration/kubernetes-env-setup.yaml:34
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'O=Orderer,L=51.50/-0.13/London,C=GB', 'type': 'orderer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'fabric_console': 'enabled', 'ca_data': {'url': 'ca.supplychain-net:7054', 'certificate': '/home/bevel/build/supplychain/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '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', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'ca': {'name': 'ca', 'subject': '/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'consensus': {'name': 'raft'}, 'orderers': [{'orderer': None, 'name': 'orderer1', 'type': 'orderer', 'consensus': 'raft', 'grpc': {'port': 7050}}]}})  => {"ansible_loop_var": "organizationItem", "changed": false, "organizationItem": {"ca_data": {"certificate": "/home/bevel/build/supplychain/server.crt", "url": "ca.supplychain-net:7054"}, "cloud_provider": "azure", "country": "UK", "external_url_suffix": "develop.local.com", "fabric_console": "enabled", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "supplychain", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net", "type": "ca"}, "consensus": {"name": "raft"}, "orderers": [{"consensus": "raft", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'peer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'ca_data': {'url': 'ca.manufacturer-net:7054', 'certificate': '/home/bevel/build/manufacturer/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'users': [{'user': None, 'identity': 'user1', 'attributes': [{'key': 'hf.Revoker', 'value': 'true'}]}], 'services': {'ca': {'name': 'ca', 'subject': '/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'peers': [{'peer': None, 'name': 'peer0', 'type': 'anchor', 'gossippeeraddress': 'peer0.manufacturer-net:7051', 'peerAddress': 'peer0.manufacturer-net:7051', 'certificate': '/home/bevel/build/manufacturer/peer0.crt', 'cli': 'enabled', 'grpc': {'port': 7051}, 'events': {'port': 7053}, 'couchdb': {'port': 5984}, 'restserver': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}, 'chaincode': {'name': 'supplychain1', 'version': '1', 'maindirectory': 'cmd', 'lang': 'golang', 'repository': {'username': 'adityajoshi12', 'password': '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', 'url': 'github.com/adityajoshi12/bevel.git', 'branch': 'main', 'path': 'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, 'arguments': '\\"init\\",\\"\\"', 'endorsements': ''}}]}})  => {"ansible_loop_var": "organizationItem", "changed": false, "organizationItem": {"ca_data": {"certificate": "/home/bevel/build/manufacturer/server.crt", "url": "ca.manufacturer-net:7054"}, "cloud_provider": "azure", "country": "CH", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "Zurich", "name": "manufacturer", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/manufacturer/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain1", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "enabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.manufacturer-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.manufacturer-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "Zurich", "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={'organization': None, 'name': 'carrier', 'country': 'GB', 'state': 'London', 'location': 'London', 'subject': 'O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB', 'type': 'peer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'ca_data': {'url': 'ca.carrier-net:7054', 'certificate': '/home/bevel/build/carrier/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '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', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'users': [{'user': None, 'identity': 'user1', 'attributes': [{'key': 'hf.Revoker', 'value': 'true'}]}], 'services': {'ca': {'name': 'ca', 'subject': '/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'peers': [{'peer': None, 'name': 'peer0', 'type': 'anchor', 'gossippeeraddress': 'peer0.carrier-net:7051', 'peerAddress': 'peer0.carrier-net:7051', 'certificate': '/home/bevel/build/carrier/peer0.crt', 'cli': 'disabled', 'grpc': {'port': 7051}, 'events': {'port': 7053}, 'couchdb': {'port': 5984}, 'restserver': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}, 'chaincode': {'name': 'supplychain', 'version': '1', 'maindirectory': 'cmd', 'lang': 'golang', 'repository': {'username': 'adityajoshi12', 'password': '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', 'url': 'github.com/adityajoshi12/bevel.git', 'branch': 'main', 'path': 'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, 'arguments': '\\"init\\",\\"\\"', 'endorsements': ''}}]}})  => {"ansible_loop_var": "organizationItem", "changed": false, "organizationItem": {"ca_data": {"certificate": "/home/bevel/build/carrier/server.crt", "url": "ca.carrier-net:7054"}, "cloud_provider": "azure", "country": "GB", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "carrier", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/carrier/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.carrier-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.carrier-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "London", "subject": "O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}

TASK [include_role : setup/ambassador] *****************************************
task path: /home/bevel/platforms/shared/configuration/kubernetes-env-setup.yaml:43
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'O=Orderer,L=51.50/-0.13/London,C=GB', 'type': 'orderer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'fabric_console': 'enabled', 'ca_data': {'url': 'ca.supplychain-net:7054', 'certificate': '/home/bevel/build/supplychain/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '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', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'ca': {'name': 'ca', 'subject': '/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'consensus': {'name': 'raft'}, 'orderers': [{'orderer': None, 'name': 'orderer1', 'type': 'orderer', 'consensus': 'raft', 'grpc': {'port': 7050}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/supplychain/server.crt", "url": "ca.supplychain-net:7054"}, "cloud_provider": "azure", "country": "UK", "external_url_suffix": "develop.local.com", "fabric_console": "enabled", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "supplychain", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net", "type": "ca"}, "consensus": {"name": "raft"}, "orderers": [{"consensus": "raft", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'peer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'ca_data': {'url': 'ca.manufacturer-net:7054', 'certificate': '/home/bevel/build/manufacturer/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'users': [{'user': None, 'identity': 'user1', 'attributes': [{'key': 'hf.Revoker', 'value': 'true'}]}], 'services': {'ca': {'name': 'ca', 'subject': '/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'peers': [{'peer': None, 'name': 'peer0', 'type': 'anchor', 'gossippeeraddress': 'peer0.manufacturer-net:7051', 'peerAddress': 'peer0.manufacturer-net:7051', 'certificate': '/home/bevel/build/manufacturer/peer0.crt', 'cli': 'enabled', 'grpc': {'port': 7051}, 'events': {'port': 7053}, 'couchdb': {'port': 5984}, 'restserver': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}, 'chaincode': {'name': 'supplychain1', 'version': '1', 'maindirectory': 'cmd', 'lang': 'golang', 'repository': {'username': 'adityajoshi12', 'password': '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', 'url': 'github.com/adityajoshi12/bevel.git', 'branch': 'main', 'path': 'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, 'arguments': '\\"init\\",\\"\\"', 'endorsements': ''}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/manufacturer/server.crt", "url": "ca.manufacturer-net:7054"}, "cloud_provider": "azure", "country": "CH", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "Zurich", "name": "manufacturer", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/manufacturer/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain1", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "enabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.manufacturer-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.manufacturer-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "Zurich", "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={'organization': None, 'name': 'carrier', 'country': 'GB', 'state': 'London', 'location': 'London', 'subject': 'O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB', 'type': 'peer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'ca_data': {'url': 'ca.carrier-net:7054', 'certificate': '/home/bevel/build/carrier/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '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', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'users': [{'user': None, 'identity': 'user1', 'attributes': [{'key': 'hf.Revoker', 'value': 'true'}]}], 'services': {'ca': {'name': 'ca', 'subject': '/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'peers': [{'peer': None, 'name': 'peer0', 'type': 'anchor', 'gossippeeraddress': 'peer0.carrier-net:7051', 'peerAddress': 'peer0.carrier-net:7051', 'certificate': '/home/bevel/build/carrier/peer0.crt', 'cli': 'disabled', 'grpc': {'port': 7051}, 'events': {'port': 7053}, 'couchdb': {'port': 5984}, 'restserver': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}, 'chaincode': {'name': 'supplychain', 'version': '1', 'maindirectory': 'cmd', 'lang': 'golang', 'repository': {'username': 'adityajoshi12', 'password': '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', 'url': 'github.com/adityajoshi12/bevel.git', 'branch': 'main', 'path': 'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, 'arguments': '\\"init\\",\\"\\"', 'endorsements': ''}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/carrier/server.crt", "url": "ca.carrier-net:7054"}, "cloud_provider": "azure", "country": "GB", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "carrier", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/carrier/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.carrier-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.carrier-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "London", "subject": "O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}

TASK [include_role : setup/haproxy-ingress] ************************************
task path: /home/bevel/platforms/shared/configuration/kubernetes-env-setup.yaml:51
skipping: [localhost] => (item={'organization': None, 'name': 'supplychain', 'country': 'UK', 'state': 'London', 'location': 'London', 'subject': 'O=Orderer,L=51.50/-0.13/London,C=GB', 'type': 'orderer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'fabric_console': 'enabled', 'ca_data': {'url': 'ca.supplychain-net:7054', 'certificate': '/home/bevel/build/supplychain/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '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', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'services': {'ca': {'name': 'ca', 'subject': '/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'consensus': {'name': 'raft'}, 'orderers': [{'orderer': None, 'name': 'orderer1', 'type': 'orderer', 'consensus': 'raft', 'grpc': {'port': 7050}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/supplychain/server.crt", "url": "ca.supplychain-net:7054"}, "cloud_provider": "azure", "country": "UK", "external_url_suffix": "develop.local.com", "fabric_console": "enabled", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "supplychain", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Orderer/CN=ca.supplychain-net", "type": "ca"}, "consensus": {"name": "raft"}, "orderers": [{"consensus": "raft", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={'organization': None, 'name': 'manufacturer', 'country': 'CH', 'state': 'Zurich', 'location': 'Zurich', 'subject': 'O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH', 'type': 'peer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'ca_data': {'url': 'ca.manufacturer-net:7054', 'certificate': '/home/bevel/build/manufacturer/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'users': [{'user': None, 'identity': 'user1', 'attributes': [{'key': 'hf.Revoker', 'value': 'true'}]}], 'services': {'ca': {'name': 'ca', 'subject': '/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'peers': [{'peer': None, 'name': 'peer0', 'type': 'anchor', 'gossippeeraddress': 'peer0.manufacturer-net:7051', 'peerAddress': 'peer0.manufacturer-net:7051', 'certificate': '/home/bevel/build/manufacturer/peer0.crt', 'cli': 'enabled', 'grpc': {'port': 7051}, 'events': {'port': 7053}, 'couchdb': {'port': 5984}, 'restserver': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}, 'chaincode': {'name': 'supplychain1', 'version': '1', 'maindirectory': 'cmd', 'lang': 'golang', 'repository': {'username': 'adityajoshi12', 'password': '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', 'url': 'github.com/adityajoshi12/bevel.git', 'branch': 'main', 'path': 'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, 'arguments': '\\"init\\",\\"\\"', 'endorsements': ''}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/manufacturer/server.crt", "url": "ca.manufacturer-net:7054"}, "cloud_provider": "azure", "country": "CH", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "Zurich", "name": "manufacturer", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=CH/ST=Zurich/L=Zurich/O=Manufacturer/CN=ca.manufacturer-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/manufacturer/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain1", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "enabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.manufacturer-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.manufacturer-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "Zurich", "subject": "O=Manufacturer,OU=Manufacturer,L=47.38/8.54/Zurich,C=CH", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item={'organization': None, 'name': 'carrier', 'country': 'GB', 'state': 'London', 'location': 'London', 'subject': 'O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB', 'type': 'peer', 'external_url_suffix': 'develop.local.com', 'org_status': 'new', 'ca_data': {'url': 'ca.carrier-net:7054', 'certificate': '/home/bevel/build/carrier/server.crt'}, 'cloud_provider': 'azure', 'k8s': {'region': 'blr1', 'context': 'bevel', 'config_file': '/home/bevel/build/config'}, 'vault': {'url': 'http://20.197.63.209:8200', 'root_token': 'hvs.qpb9TyUVIkdBuBDMbyAmCEHy', 'secret_path': 'secretv2'}, 'gitops': {'git_protocol': 'ssh', 'git_url': 'ssh://git@github.com/adityajoshi12/bevel.git', 'branch': 'test', 'release_dir': 'platforms/hyperledger-fabric/releases/dev', 'chart_source': 'platforms/hyperledger-fabric/charts', 'git_repo': 'github.com/adityajoshi12/bevel.git', 'username': 'adityajoshi12', 'password': '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', 'email': 'adityaprakashjoshi1@gmail.com', 'private_key': '/home/bevel/build/gitops'}, 'users': [{'user': None, 'identity': 'user1', 'attributes': [{'key': 'hf.Revoker', 'value': 'true'}]}], 'services': {'ca': {'name': 'ca', 'subject': '/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net', 'type': 'ca', 'grpc': {'port': 7054}}, 'peers': [{'peer': None, 'name': 'peer0', 'type': 'anchor', 'gossippeeraddress': 'peer0.carrier-net:7051', 'peerAddress': 'peer0.carrier-net:7051', 'certificate': '/home/bevel/build/carrier/peer0.crt', 'cli': 'disabled', 'grpc': {'port': 7051}, 'events': {'port': 7053}, 'couchdb': {'port': 5984}, 'restserver': {'targetPort': 20001, 'port': 20001}, 'expressapi': {'targetPort': 3000, 'port': 3000}, 'chaincode': {'name': 'supplychain', 'version': '1', 'maindirectory': 'cmd', 'lang': 'golang', 'repository': {'username': 'adityajoshi12', 'password': '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', 'url': 'github.com/adityajoshi12/bevel.git', 'branch': 'main', 'path': 'examples/supplychain-app/fabric/chaincode_rest_server/chaincode/'}, 'arguments': '\\"init\\",\\"\\"', 'endorsements': ''}}]}})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/bevel/build/carrier/server.crt", "url": "ca.carrier-net:7054"}, "cloud_provider": "azure", "country": "GB", "external_url_suffix": "develop.local.com", "gitops": {"branch": "test", "chart_source": "platforms/hyperledger-fabric/charts", "email": "adityaprakashjoshi1@gmail.com", "git_protocol": "ssh", "git_repo": "github.com/adityajoshi12/bevel.git", "git_url": "ssh://git@github.com/adityajoshi12/bevel.git", "password": "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", "private_key": "/home/bevel/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "adityajoshi12"}, "k8s": {"config_file": "/home/bevel/build/config", "context": "bevel", "region": "blr1"}, "location": "London", "name": "carrier", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=GB/ST=London/L=London/O=Carrier/CN=ca.carrier-net", "type": "ca"}, "peers": [{"certificate": "/home/bevel/build/carrier/peer0.crt", "chaincode": {"arguments": "\\\"init\\\",\\\"\\\"", "endorsements": "", "lang": "golang", "maindirectory": "cmd", "name": "supplychain", "repository": {"branch": "main", "password": "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", "path": "examples/supplychain-app/fabric/chaincode_rest_server/chaincode/", "url": "github.com/adityajoshi12/bevel.git", "username": "adityajoshi12"}, "version": "1"}, "cli": "disabled", "couchdb": {"port": 5984}, "events": {"port": 7053}, "expressapi": {"port": 3000, "targetPort": 3000}, "gossippeeraddress": "peer0.carrier-net:7051", "grpc": {"port": 7051}, "name": "peer0", "peer": null, "peerAddress": "peer0.carrier-net:7051", "restserver": {"port": 20001, "targetPort": 20001}, "type": "anchor"}]}, "state": "London", "subject": "O=Carrier,OU=Carrier,L=51.50/-0.13/London,C=GB", "type": "peer", "users": [{"attributes": [{"key": "hf.Revoker", "value": "true"}], "identity": "user1", "user": null}], "vault": {"root_token": "hvs.qpb9TyUVIkdBuBDMbyAmCEHy", "secret_path": "secretv2", "url": "http://20.197.63.209:8200"}}, "skip_reason": "Conditional result was False"}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************
META: ran handlers

TASK [Remove build directory] **************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:23
changed: [localhost] => {"changed": true, "path": "./build", "state": "absent"}

TASK [Create namespace and Vault auth for each organization] *******************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/deploy-network.yaml:29

TASK [Checking if the namespace supplychain-net already exists] ****************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:12
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info

TASK [/home/bevel/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Check Namespace supplychain-net is created] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:13
redirecting (type: modules) ansible.builtin.k8s_info to kubernetes.core.k8s_info
ok: [localhost] => {"api_found": true, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Namespace", "metadata": {"annotations": {"fluxcd.io/sync-checksum": "3e3781467b99451b319066d41d04f59361cb913c", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"v1\",\"kind\":\"Namespace\",\"metadata\":{\"annotations\":{\"fluxcd.io/sync-checksum\":\"3e3781467b99451b319066d41d04f59361cb913c\"},\"labels\":{\"fluxcd.io/sync-gc-mark\":\"sha256.IRMe38eshOFNiqK6H_-MMMrpvi2hqekrWRR1_-joSn0\"},\"name\":\"supplychain-net\"}}\n"}, "creationTimestamp": "2022-07-17T14:53:22Z", "labels": {"fluxcd.io/sync-gc-mark": "sha256.IRMe38eshOFNiqK6H_-MMMrpvi2hqekrWRR1_-joSn0", "kubernetes.io/metadata.name": "supplychain-net"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:fluxcd.io/sync-checksum": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}}, "f:labels": {".": {}, "f:fluxcd.io/sync-gc-mark": {}, "f:kubernetes.io/metadata.name": {}}}}, "manager": "kubectl", "operation": "Update", "time": "2022-07-17T14:53:22Z"}], "name": "supplychain-net", "resourceVersion": "67776", "uid": "330aafdc-420a-41a2-ae63-18619e94623e"}, "spec": {"finalizers": ["kubernetes"]}, "status": {"phase": "Active"}}]}

TASK [/home/bevel/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace supplychain-net] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:23
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/bevel/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Check Namespace supplychain-net is created] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:38
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/bevel/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace supplychain-net] ***
task path: /home/bevel/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:51
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
META: role_complete for localhost

TASK [create/namespace_vaultauth : Set Variable] *******************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:23
ok: [localhost] => {"ansible_facts": {"get_namespace": {"api_found": true, "changed": false, "failed": false, "resources": [{"apiVersion": "v1", "kind": "Namespace", "metadata": {"annotations": {"fluxcd.io/sync-checksum": "3e3781467b99451b319066d41d04f59361cb913c", "kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"v1\",\"kind\":\"Namespace\",\"metadata\":{\"annotations\":{\"fluxcd.io/sync-checksum\":\"3e3781467b99451b319066d41d04f59361cb913c\"},\"labels\":{\"fluxcd.io/sync-gc-mark\":\"sha256.IRMe38eshOFNiqK6H_-MMMrpvi2hqekrWRR1_-joSn0\"},\"name\":\"supplychain-net\"}}\n"}, "creationTimestamp": "2022-07-17T14:53:22Z", "labels": {"fluxcd.io/sync-gc-mark": "sha256.IRMe38eshOFNiqK6H_-MMMrpvi2hqekrWRR1_-joSn0", "kubernetes.io/metadata.name": "supplychain-net"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:fluxcd.io/sync-checksum": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}}, "f:labels": {".": {}, "f:fluxcd.io/sync-gc-mark": {}, "f:kubernetes.io/metadata.name": {}}}}, "manager": "kubectl", "operation": "Update", "time": "2022-07-17T14:53:22Z"}], "name": "supplychain-net", "resourceVersion": "67776", "uid": "330aafdc-420a-41a2-ae63-18619e94623e"}, "spec": {"finalizers": ["kubernetes"]}, "status": {"phase": "Active"}}]}}, "changed": false}

TASK [Create namespaces] *******************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Create vault reviewer service account for Organizations] *****************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:44
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Create vault auth service account for Organizations] *********************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:58
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Create clusterrolebinding for Ordrers] ***********************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:72
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Git Push] ****************************************************************
task path: /home/bevel/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:80

TASK [/home/bevel/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Check if directory: /home/bevel/platforms/hyperledger-fabric/configuration/../../../ exists] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "gid": 1000, "group": "1000", "mode": "0777", "owner": "1000", "path": "/home/bevel/platforms/hyperledger-fabric/configuration/../../../", "size": 4096, "state": "directory", "uid": 1000}

TASK [/home/bevel/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Execute git push for ssh] ***
task path: /home/bevel/platforms/shared/configuration/roles/git_push/tasks/main.yaml:15
